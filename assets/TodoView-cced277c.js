import{o as l,c as r,a as F,r as d,b as k,d as T,e as s,w as A,v as I,f as _,F as w,g as $,t as C}from"./index-7974c615.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const L=()=>fetch({}.VITE_API_URL,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}),P=a=>fetch({}.VITE_API_URL,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}),E=a=>fetch(`${{}.VITE_API_URL}/${a}`,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}),j=a=>fetch(`${{}.VITE_API_URL}/${a}`,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"}});const R={},U={class:"flex justify-center gap-1 mt-20 h-[100vh]"},V=F('<p class="text-5xl" data-v-f1df350a>Loading</p><div class="flex gap-1" data-v-f1df350a><span class="loading1 text-5xl" data-v-f1df350a>.</span><span class="loading2 text-5xl" data-v-f1df350a>.</span><span class="loading3 text-5xl" data-v-f1df350a>.</span></div>',2),q=[V];function B(a,o){return l(),r("div",U,q)}const D=v(R,[["render",B],["__scopeId","data-v-f1df350a"]]);const N={class:"bg-slate-50 py-40"},S={class:"flex justify-center gap-2"},G={class:"flex gap-10 my-10 justify-center"},M={key:0},O={key:1,class:"flex justify-center"},H={class:"flex gap-2"},J=["onClick","checked"],W=["onClick"],z={__name:"TodoList",setup(a){const o=d([]),i=d(!0);k(async()=>{try{const e=await L();e.ok?(o.value=await e.json(),console.log(o),i.value=!1):console.error("API request failed:",e.statusText)}catch(e){console.error("An error occurred:",e)}});const c=d({userId:1,title:"",completed:!1}),f=async()=>{try{const e=await P(c.value);if(e.ok){const t={userId:1,title:c.value.title,completed:!1,id:`${o.value.length+1}`};o.value.push(t),alert("新增成功"),c.value.title=""}else console.error("API request failed:",e.statusText)}catch(e){console.error("An error occurred:",e)}},h=()=>{f()},y=async e=>{try{(await E(e)).ok&&(o.value.splice(`${e-1}`,1),alert("刪除成功"))}catch(t){console.log(t)}},g=e=>{y(e)},x=async e=>{try{const t=await j(e);console.log(t),t.ok&&(o.value[e-1].completed===!1?(o.value[e-1].completed=!0,alert("完成！！")):o.value[e-1].completed===!0&&(o.value[e-1].completed=!1,alert("未完成！")))}catch(t){console.log(t)}},u=d("All"),p=e=>{u.value=e},m=T(()=>u.value==="Finished"?o.value.filter(e=>e.completed===!0):u.value==="Pending"?o.value.filter(e=>e.completed===!1):o.value);return(e,t)=>(l(),r("div",null,[s("div",N,[s("div",null,[s("div",S,[A(s("input",{type:"text",class:"w-1/2 p-1 outline-none bg-slate-50 border-b-[2px] border-slate-950 border-dashed placeholder:text-slate-500",placeholder:"What's your plan for today?","onUpdate:modelValue":t[0]||(t[0]=n=>c.value.title=n)},null,512),[[I,c.value.title]]),s("input",{type:"button",class:"cursor-pointer hover:font-bold hover:scale-105 hover:bg-[#FFA101] hover:text-white rounded duration-300 border-dashed border border-slate-950 px-2 py-1",value:"sent",onClick:h})]),s("div",G,[s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"All",onClick:t[1]||(t[1]=n=>p("All"))}),s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"Finished",onClick:t[2]||(t[2]=n=>p("Finished"))}),s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"Pending",onClick:t[3]||(t[3]=n=>p("Pending"))})]),i.value?(l(),r("div",M,[_(D)])):(l(),r("div",O,[s("ul",null,[(l(!0),r(w,null,$(m.value,n=>(l(),r("li",{class:"flex gap-4 py-4",key:n.id},[s("p",null,C(n.title),1),s("div",H,[s("input",{type:"checkbox",class:"cursor-pointer",value:"✔",onClick:b=>x(n.id),checked:n.completed},null,8,J),s("input",{type:"button",class:"delete cursor-pointer",value:"✘",onClick:b=>g(n.id)},null,8,W)])]))),128))])]))])])]))}},K=v(z,[["__scopeId","data-v-0ec7abdc"]]),Z={__name:"TodoView",setup(a){return(o,i)=>(l(),r("main",null,[_(K)]))}};export{Z as default};
