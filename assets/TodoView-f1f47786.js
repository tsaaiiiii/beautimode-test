import{o as l,c as r,a as F,r as d,b as k,d as w,e as s,w as T,v as $,f as v,F as A,g as C,t as j}from"./index-b526e460.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";const I=()=>fetch("https://jsonplaceholder.typicode.com/todos",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}),L=a=>fetch("https://jsonplaceholder.typicode.com/todos",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}),P=a=>fetch(`https://jsonplaceholder.typicode.com/todos/${a}`,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}),E=a=>fetch(`https://jsonplaceholder.typicode.com/todos/${a}`,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"}});const q={},B={class:"flex justify-center gap-1 mt-20 h-[100vh]"},R=F('<p class="text-5xl" data-v-f1df350a>Loading</p><div class="flex gap-1" data-v-f1df350a><span class="loading1 text-5xl" data-v-f1df350a>.</span><span class="loading2 text-5xl" data-v-f1df350a>.</span><span class="loading3 text-5xl" data-v-f1df350a>.</span></div>',2),U=[R];function V(a,o){return l(),r("div",B,U)}const D=h(q,[["render",V],["__scopeId","data-v-f1df350a"]]);const N={class:"bg-slate-50 py-40"},S={class:"flex justify-center gap-2"},G={class:"flex gap-10 my-10 justify-center"},M={key:0},O={key:1,class:"flex justify-center"},H={class:"flex gap-2"},J=["onClick","checked"],W=["onClick"],z={__name:"TodoList",setup(a){const o=d([]),i=d(!0);k(async()=>{try{const e=await I();e.ok?(o.value=await e.json(),console.log(o),i.value=!1):console.error("API request failed:",e.statusText)}catch(e){console.error("An error occurred:",e)}});const c=d({userId:1,title:"",completed:!1}),_=async()=>{try{const e=await L(c.value);if(e.ok){const t={userId:1,title:c.value.title,completed:!1,id:`${o.value.length+1}`};o.value.push(t),alert("新增成功"),c.value.title=""}else console.error("API request failed:",e.statusText)}catch(e){console.error("An error occurred:",e)}},f=()=>{_()},y=async e=>{try{(await P(e)).ok&&(o.value.splice(`${e-1}`,1),alert("刪除成功"))}catch(t){console.log(t)}},g=e=>{y(e)},m=async e=>{try{const t=await E(e);console.log(t),t.ok&&(o.value[e-1].completed===!1?(o.value[e-1].completed=!0,alert("完成！！")):o.value[e-1].completed===!0&&(o.value[e-1].completed=!1,alert("未完成！")))}catch(t){console.log(t)}},p=d("All"),u=e=>{p.value=e},x=w(()=>p.value==="Finished"?o.value.filter(e=>e.completed===!0):p.value==="Pending"?o.value.filter(e=>e.completed===!1):o.value);return(e,t)=>(l(),r("div",null,[s("div",N,[s("div",null,[s("div",S,[T(s("input",{type:"text",class:"w-1/2 p-1 outline-none bg-slate-50 border-b-[2px] border-slate-950 border-dashed placeholder:text-slate-500",placeholder:"What's your plan for today?","onUpdate:modelValue":t[0]||(t[0]=n=>c.value.title=n)},null,512),[[$,c.value.title]]),s("input",{type:"button",class:"cursor-pointer hover:font-bold hover:scale-105 hover:bg-[#FFA101] hover:text-white rounded duration-300 border-dashed border border-slate-950 px-2 py-1",value:"sent",onClick:f})]),s("div",G,[s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"All",onClick:t[1]||(t[1]=n=>u("All"))}),s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"Finished",onClick:t[2]||(t[2]=n=>u("Finished"))}),s("input",{type:"button",class:"cursor-pointer py-1 bg-[#FAE6B1] w-20 rounded hover:bg-[#FFA101] duration-500 hover:text-white hover:font-bold",value:"Pending",onClick:t[3]||(t[3]=n=>u("Pending"))})]),i.value?(l(),r("div",M,[v(D)])):(l(),r("div",O,[s("ul",null,[(l(!0),r(A,null,C(x.value,n=>(l(),r("li",{class:"flex gap-4 py-4",key:n.id},[s("p",null,j(n.title),1),s("div",H,[s("input",{type:"checkbox",class:"cursor-pointer",value:"✔",onClick:b=>m(n.id),checked:n.completed},null,8,J),s("input",{type:"button",class:"delete cursor-pointer",value:"✘",onClick:b=>g(n.id)},null,8,W)])]))),128))])]))])])]))}},K=h(z,[["__scopeId","data-v-0ec7abdc"]]),Z={__name:"TodoView",setup(a){return(o,i)=>(l(),r("main",null,[v(K)]))}};export{Z as default};
